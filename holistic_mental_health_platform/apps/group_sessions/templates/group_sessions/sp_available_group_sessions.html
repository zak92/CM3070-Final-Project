{% extends 'base.html' %}

{% block content %}

<a href="{% url 'service-provider-profile' user %}">Profile</a>
{% if request.user == user %}
<a href="{% url 'schedule-appointments' user%}">Schedule Appointments</a>
<a href="{% url 'booked-appointments' user %}">Booked Appointments</a>
<a href="{% url 'schedule-group-sessions' user %}">Schedule Live Group Sessions</a>

{% endif %}
<a href="{% url 'available-group-sessions' user %}">Live Group Sessions</a>

<h1>Available Group Sessions</h1>
{% for available_group_session in available_group_sessions %}
{% if current_date < available_group_session.date or current_date == available_group_session.date and current_time < available_group_session.time %}
  {% if available_group_session.cancelled == False %}
    <h2>Category: {{ available_group_session.category }}</h2>
    <h3>Group Name</h3>
    <p>{{ available_group_session.group_name }}</p>
    <h3>Host</h3>
    <p>{{ available_group_session.service_provider }}</p>
    <h3>Description</h3>
    <p>{{ available_group_session.description }}</p>
    <p>Maximum number of members: {{ available_group_session.max_members }}</p>
    <p>{{ available_group_session.date }}</p>
    <p>{{ available_group_session.time }}</p>
    <p>{{ available_group_session.duration }} min</p>
    <p>Current members joined: {{ available_group_session.total_members }}</p>
    <p>Event ID: {{ available_group_session.id }}</p>
    <a href="{% url 'group-session-cancellation' available_group_session.id %}">Cancel</a>
    <a href="{% url 'edit-group-session' available_group_session.id %}">Edit</a>
    <a href="{% url 'lobby' %}">Host Call</a>
  <hr>
  {% endif %}
{% endif %}
{% endfor %}







<h2>Cancelled Group Sessions</h2>
{% for available_group_session in available_group_sessions %}
{% if current_date < available_group_session.date or current_date == available_group_session.date and current_time < available_group_session.time %}
  {% if available_group_session.cancelled == True %}
    <h2>Category: {{ available_group_session.category }}</h2>
    <h3>Group Name</h3>
    <p>{{ available_group_session.group_name }}</p>
    <h3>Host</h3>
    <p>{{ available_group_session.service_provider }}</p>
    <h3>Description</h3>
    <p>{{ available_group_session.description }}</p>
    <p>Maximum number of members: {{ available_group_session.max_members }}</p>
    <p>{{ available_group_session.date }}</p>
    <p>{{ available_group_session.time }}</p>
    <p>{{ available_group_session.duration }} min</p>
    <p>Current members joined: {{ available_group_session.total_members }}</p>
  <hr>
 {% endif %}
{% endif %}
{% endfor %}




  


{% endblock content %}